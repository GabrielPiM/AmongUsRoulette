@inject IJSRuntime JSRuntime
@inject AmongUsRoulette.Shared.Utils.CurrentLanguage CurrentLang;



@code {
    private List<string> supportedLanguages;

    protected override void OnInitialized()
    {
        supportedLanguages = new List<string>();
        AddSuppotedLanguages();
        setLanguage();  

    }

    public void AddSuppotedLanguages()
    {
        supportedLanguages.Add("pt-BR");
        supportedLanguages.Add("en-US");
    }

    private async void setLanguage()
    {
        var lang = await JSRuntime.InvokeAsync<string>("getLanguage");

        if(isLangSupported(lang))
        {
            CurrentLang.name = lang;
        }   
    }

    public bool isLangSupported(string lang)
    {
        return supportedLanguages.Exists(l=> l==lang);
    }
}
